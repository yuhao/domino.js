<link rel="import" href="util.html">
<link rel="import" href="post.html">

<script>
'use strict';

din.exportTo("inspector", function(){
  var DOMLog = {};

  function OpLog (id, op) {
    this.id = id;
    this.op = op;
  }

  function shouldPost() {
    return Object.keys(DOMLog).length === 10;
  }

  function funcEntry(target, thisArg, argumentsList) {
  }

  function funcExit(target, thisArg, argumentsList, returnVal) {
    din.util.predLog(false,
        (thisArg === undefined) ? "undefined" : thisArg.constructor.name,
        "(",
        thisArg instanceof Node ? thisArg.gid : "undefined",
        ")",
        "call",
        target.name,
        "return",
        returnVal instanceof Node ? returnVal.tagName : "",
        returnVal instanceof Node ? returnVal.gid : "");

    if (thisArg instanceof Node) {
      var record = new OpLog(thisArg.gid, target.name);
      din.post.predAdd(true, DOMLog, Date.now(), record);
      din.post.tryPost(shouldPost(), DOMLog);
    }
  }

  function objGet(target, name) {
  }

  function objSet(target, name, val) {
  }

  function callbackEntry(triggeringEvent, callback) {
  }

  function callbackExit() {
  }

  return {
    funcEntry: funcEntry,
    funcExit: funcExit,
    objGet: objGet,
    objSet: objSet,
    callbackEntry: callbackEntry,
    callbackExit: callbackExit
  }
});
</script>
