<script type="text/javascript">
'use strict';
 
test('getComputedStyle', function () {
  var el = document.getElementById("test");

  el.style.color = "red";
  var style = window.getComputedStyle(el);
  assert.equal(style.color, "rgb(255, 0, 0)");

  var _style = window.getComputedStyle._src.call(window, el._src);
  assert.equal(style.color, _style.color);
});

test('setTimeout', function () {
  din.inspect.inspector = null;

  window.value = 1;
  var testObj = {
    value: 2,
    foo: function(shouldBeValue) {
      assert.equal(this.value, shouldBeValue);
      return this.value;
    }
  }
  testObj.foo(2);
  window.setTimeout(testObj.foo, 0, 1);
  window.setTimeout(testObj.foo.bind(testObj), 0, 2);
});

test('frames', function () {
  var thisFrame = window.frames;
  assert.isFalse(din.util.isProxy(thisFrame));
  assert.isFalse(din.util.hasProxy(thisFrame));
});

test('self', function () {
  var selfWindow = window.self;
  assert.isFalse(din.util.isProxy(selfWindow));
  assert.isFalse(din.util.hasProxy(selfWindow));
});

</script>
