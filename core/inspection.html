<link rel="import" href="util.html">

<script>
'use strict';

din.exportTo("inspect", function(){
  function funcEntry(target, thisArg, argumentsList) {
    din.util.predLog(false, //(thisArg && (thisArg !== undefined)),
        target.name,
        (thisArg === undefined) ? "undefined" : thisArg.constructor.name);

    if (target.name === "createElement") {
      function countDOM(obj) {
        var num = 0;
        if (obj.children) {
          var len = obj.children.length;
          num = len;

          for (var i = 0; i < len; i++) {
            var child = obj.children[i];
            num += countDOM(child);
          }
        }
        return num;
      }

      din.util.predLog(false, countDOM(window.document));
    }
  }

  function funcExit(target, thisArg, argumentsList, returnVal) {
  }

  function objGet(target, name) {
    din.util.predLog(false, "[Proxy] Read", name, typeof target[name]);

  }

  function objSet(target, name, val) {
    din.util.predLog(false, "[Proxy] Write", name, typeof target[name]);
  }

  return {
    funcEntry: funcEntry,
    funcExit: funcExit,
    objGet: objGet,
    objSet: objSet
  }
});
</script>
